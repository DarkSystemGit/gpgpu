{"version":3,"file":"blink.js","sources":["../src/WebGL/Context.js","../src/common.js","../src/WebGL/Texture.js","../src/Buffer.js","../src/DeviceBuffer.js","../src/shaders/quad.vert","../src/WebGL/Program.js","../src/shaders/template.frag","../src/Kernel.js","../src/index.js"],"sourcesContent":["/**\r\n * WebGL 2.0 related objects and helpers.\r\n */\r\nexport const gl = function () {\r\n\tconst canvas = document.createElement('canvas')\r\n\tcanvas.width = canvas.height = 1\r\n\r\n\tconst options = {\r\n\t\talpha: false,\r\n\t\tantialias: false,\r\n\t\tdepth: false,\r\n\t\tstencil: false,\r\n\t}\r\n\r\n\tlet gl = canvas.getContext('webgl2', options)\r\n\r\n\tif (!gl) {\r\n\t\tthrow new Error('WebGL 2.0 not supported by the browser.')\r\n\t}\r\n\telse if (!(gl.floatExt = gl.getExtension('EXT_color_buffer_float'))) {\r\n\t\tthrow new Error('EXT_color_buffer_float not supported.')\r\n\t}\r\n\r\n\tgl.pixelStorei(gl.PACK_ALIGNMENT, 1)\r\n\tgl.pixelStorei(gl.UNPACK_ALIGNMENT, 1)\r\n\r\n\treturn gl\r\n}()\r\n\r\nexport const extensions = function () {\r\n\tlet extensions = {}\r\n\r\n\tconst retrieve = {\r\n\t\tdebugRendererInfo: 'WEBGL_debug_renderer_info',\r\n\t\tdebugShaders: 'WEBGL_debug_shaders',\r\n\t\tgetBufferSubDataAsync: 'WEBGL_get_buffer_sub_data_async',\r\n\t}\r\n\r\n\tfor (const [key, name] of Object.entries(retrieve)) {\r\n\t\tlet extension = gl.getExtension(name)\r\n\t\tif (extension) {\r\n\t\t\textensions[key] = extension\r\n\t\t}\r\n\t}\r\n\r\n\treturn extensions\r\n}()\r\n\r\nexport const device = function () {\r\n\tlet device = {\r\n\t\tglslVersion: gl.getParameter(gl.SHADING_LANGUAGE_VERSION),\r\n\t\tmaxColorAttachments: gl.getParameter(gl.MAX_DRAW_BUFFERS),\r\n\t\tmaxTextureSize: gl.getParameter(gl.MAX_TEXTURE_SIZE),\r\n\t\tmaxTextureUnits: gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS),\r\n\t\trenderer: gl.getParameter(gl.RENDERER),\r\n\t\tvendor: gl.getParameter(gl.VENDOR),\r\n\t}\r\n\r\n\tlet { debugRendererInfo } = extensions\r\n\tif (debugRendererInfo) {\r\n\t\tdevice.unmaskedRenderer = gl.getParameter(debugRendererInfo.UNMASKED_RENDERER_WEBGL),\r\n\t\tdevice.unmaskedVendor = gl.getParameter(debugRendererInfo.UNMASKED_VENDOR_WEBGL)\r\n\t}\r\n\r\n\treturn Object.freeze(device)\r\n}()","// Buffer types.\r\nconst type = (name, bytes, integer, unsigned) => Object.freeze({ name, bytes, integer, unsigned })\r\n\r\nexport const FLOAT  = type('float',  4, false, false)\r\nexport const INT32  = type('int32',  4, true,  false)\r\nexport const INT16  = type('int16',  2, true,  false)\r\nexport const INT8   = type('int8',   1, true,  false)\r\nexport const UINT32 = type('uint32', 4, true,  true)\r\nexport const UINT16 = type('uint16', 2, true,  true)\r\nexport const UINT8  = type('uint8',  1, true,  true)\r\n\r\n// Wrap modes for the textures.\r\nexport const CLAMP  = 33071\r\nexport const REPEAT = 10497\r\nexport const MIRROR = 33648\r\n\r\n\r\n// TypedArray helpers.\r\nexport const arrayConstructors = new Map([\r\n\t[FLOAT,  Float32Array],\r\n\t[INT32,  Int32Array],\r\n\t[INT16,  Int16Array],\r\n\t[INT8,   Int8Array],\r\n\t[UINT32, Uint32Array],\r\n\t[UINT16, Uint16Array],\r\n\t[UINT8,  Uint8Array],\r\n])\r\n\r\nexport const arrayTypes = new Map([\r\n\t[Float32Array,      FLOAT],\r\n\t[Int32Array,        INT32],\r\n\t[Int16Array,        INT16],\r\n\t[Int8Array,         INT8],\r\n\t[Uint32Array,       UINT32],\r\n\t[Uint16Array,       UINT16],\r\n\t[Uint8Array,        UINT8],\r\n\t[Uint8ClampedArray, UINT8],\r\n])\r\n\r\n\r\n// Hands out all the types associated with a Buffer's data.\r\nexport function formatInfo(dataType, vectorSize = 1) {\r\n\tconst { bytes, integer, unsigned } = dataType\r\n\r\n\tconst precision = ['lowp', 'mediump', null, 'highp'][bytes - 1]\r\n\r\n\tconst inputType = integer && unsigned ? 'usampler2D' : integer ? 'isampler2D' : 'sampler2D'\r\n\r\n\tlet outputType = null\r\n\tif (vectorSize == 1) {\r\n\t\toutputType = integer && unsigned ? 'uint' : integer ? 'int' : 'float'\r\n\t}\r\n\telse {\r\n\t\toutputType = integer && unsigned ? 'uvec' : integer ? 'ivec' : 'vec'\r\n\t\toutputType += vectorSize\r\n\t}\r\n\r\n\tlet internalFormat = ['R', 'RG', 'RGB', 'RGBA'][vectorSize - 1]\r\n\tinternalFormat += bytes * 8 // 8, 16 or 32\r\n\tinternalFormat += integer && unsigned ? 'UI' : integer ? 'I' : 'F'\r\n\r\n\tlet format = ['RED', 'RG', 'RGB', 'RGBA'][vectorSize - 1]\r\n\tformat += integer ? '_INTEGER' : ''\r\n\r\n\tlet type = ''\r\n\tif (integer) {\r\n\t\tif (unsigned) {\r\n\t\t\ttype = 'UNSIGNED_'\r\n\t\t}\r\n\t\ttype += bytes == 1 ? 'BYTE' : bytes == 2 ? 'SHORT' : 'INT'\r\n\t}\r\n\telse {\r\n\t\ttype = 'FLOAT'\r\n\t}\r\n\r\n\treturn {\r\n\t\tbytes, format, internalFormat,\r\n\t\tinputType, integer, outputType,\r\n\t\tprecision, type, unsigned,\r\n\t}\r\n}\r\n\r\n\r\n// http://stackoverflow.com/a/16267018/4757748\r\nexport function closestDimensions(area) {\r\n\tlet width = Math.floor(Math.sqrt(area))\r\n\twhile (area % width && width > 1) {\r\n\t\twidth -= 1\r\n\t}\r\n\treturn [width, area / width]\r\n}","import { gl, extensions } from './Context'\r\n\r\n/**\r\n * Internal (helper) class.\r\n */\r\nexport class Texture {\r\n\tconstructor(internalFormat, width, height, format, type, data, alignment, wrapS, wrapT) {\r\n\t\tconst previousTex = gl.getParameter(gl.TEXTURE_BINDING_2D)\r\n\r\n\t\tthis.internalFormat = internalFormat\r\n\t\tthis.width = width\r\n\t\tthis.height = height\r\n\t\tthis.format = format\r\n\t\tthis.type = type\r\n\t\tthis.alignment = alignment\r\n\r\n\t\tthis.id = gl.createTexture()\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.id)\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS || gl.CLAMP_TO_EDGE)\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT || gl.CLAMP_TO_EDGE)\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST)\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl[this.internalFormat], width, height, 0, gl[this.format], gl[this.type], data)\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, previousTex)\r\n\t}\r\n\r\n\tdelete() {\r\n\t\tif (gl.getParameter(gl.TEXTURE_BINDING_2D) == this.id) {\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, null)\r\n\t\t}\r\n\t\tgl.deleteTexture(this.id)\r\n\t\tdelete this.id\r\n\t}\r\n\r\n\tcopy() {\r\n\t\tlet copy = new Texture(this.internalFormat, this.width, this.height, this.format, this.type, null, this.alignment)\r\n\r\n\t\twithTemporaryFBO(() => {\r\n\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0)\r\n\t\t\tgl.readBuffer(gl.COLOR_ATTACHMENT0)\r\n\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, copy.id)\r\n\t\t\tgl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, this.width, this.height, 0)\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, null)\r\n\t\t})\t\t\r\n\r\n\t\treturn copy\r\n\t}\r\n\r\n\tupload(data) {\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.id)\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl[this.internalFormat], this.width, this.height, 0, gl[this.format], gl[this.type], data)\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null)\r\n\t\treturn this\r\n\t}\r\n\r\n\tread(data) {\r\n\t\twithTemporaryFBO(() => {\r\n\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0)\r\n\t\t\tgl.readBuffer(gl.COLOR_ATTACHMENT0)\r\n\t\t\tgl.readPixels(0, 0, this.width, this.height, gl[this.format], gl[this.type], data, 0)\r\n\t\t})\r\n\t\treturn true\r\n\t}\r\n\r\n\treadAsync(data) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\twithTemporaryFBO(() => {\r\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0)\r\n\t\t\t\tgl.readBuffer(gl.COLOR_ATTACHMENT0)\r\n\r\n\t\t\t\tlet pixelBuffer = gl.createBuffer()\r\n\t\t\t\tgl.bindBuffer(gl.PIXEL_PACK_BUFFER, pixelBuffer)\r\n\t\t\t\tgl.bufferData(gl.PIXEL_PACK_BUFFER, data.byteLength, gl.STATIC_READ)\r\n\t\t\t\tgl.readPixels(0, 0, this.width, this.height, gl[this.format], gl[this.type], 0)\r\n\r\n\t\t\t\tconst cleanup = () => {\r\n\t\t\t\t\tgl.bindBuffer(gl.PIXEL_PACK_BUFFER, null)\r\n\t\t\t\t\tgl.deleteBuffer(pixelBuffer)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ext = extensions.getBufferSubDataAsync\r\n\t\t\t\text.getBufferSubDataAsync(gl.PIXEL_PACK_BUFFER, 0, data, 0, 0)\r\n\t\t\t\t.then((buffer) => {\r\n\t\t\t\t\tcleanup()\r\n\t\t\t\t\tresolve(data)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tcleanup()\r\n\t\t\t\t\treject(err)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction withTemporaryFBO(fn) {\r\n\tlet previousFBO = gl.getParameter(gl.FRAMEBUFFER_BINDING)\r\n\tlet fbo = gl.createFramebuffer()\r\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\r\n\tfn()\r\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, previousFBO)\r\n\tgl.deleteFramebuffer(fbo)\r\n}","import * as common from './common'\r\nimport { device } from './WebGL/Context'\r\nimport { Texture } from './WebGL/Texture'\r\n\r\n/**\r\n * The `Buffer` object allocates memory on the host. Once the `Buffer`\r\n * is requested on the device (GPU), the contents of `Buffer`'s data\r\n * are allocated and copied from the host to the device.\r\n * \r\n * Once te device is done computing, the contents of the `Buffer` on\r\n * the device are copied back to the host.\r\n *\r\n * All device copies are stored and maintained via WeakMaps.\r\n *\r\n * NOTE: The data of a `Buffer` is NOT retained on the device. Once\r\n * the data has been copied back to the host, the device copy will be\r\n * destroyed immediately. To retain data on the device, please use\r\n * the `DeviceBuffer` object.\r\n */\r\n\r\nexport let readablesMap = new WeakMap()\r\nexport let writablesMap = new WeakMap()\r\n\r\nexport class Buffer {\r\n\tconstructor({alloc, data, type = common.FLOAT, vector = 1, wrap = common.CLAMP}) {\r\n\t\tthis.vector = Math.min(Math.max(vector, 1), 4)\r\n\t\tif (this.vector == 3) {\r\n\t\t\tconsole.warn('Vector size of 3 not supported. Choosing vector size 4.')\r\n\t\t\tthis.vector = 4\r\n\t\t}\r\n\r\n\t\tlet size = alloc || data.length\r\n\t\tthis.dimensions = common.closestDimensions(size / this.vector)\r\n\r\n\t\t// Wrap mode for S and T.\r\n\t\tthis.wrap = Array.isArray(wrap) ? wrap : [wrap, wrap]\r\n\r\n\t\tconst maxDimension = device.maxTextureSize ** 2\r\n\t\tif (Math.max(...this.dimensions) > maxDimension) {\r\n\t\t\tthrow new Error('Buffer size exceeds device limit.')\r\n\t\t}\r\n\r\n\t\tif (alloc != null) {\r\n\t\t\tconst typedArray = common.arrayConstructors.get(type)\r\n\t\t\tthis.data = new typedArray(size)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (data instanceof Uint8ClampedArray) {\r\n\t\t\t\tthis.data = new Uint8Array(data.buffer)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.data = data\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdelete() {\r\n\t\tdelete this.data\r\n\t\tthis._finish()\r\n\t}\r\n\r\n\tcopy() {\r\n\t\treturn new Buffer({\r\n\t\t\tdata: new this.data.constructor(this.data),\r\n\t\t\tvector: this.vector,\r\n\t\t})\r\n\t}\r\n\r\n\t/// Private methods / properties.\r\n\r\n\tget formatInfo() {\r\n\t\tfor (const [constructor, type] of common.arrayTypes) {\r\n\t\t\tif (this.data instanceof constructor) {\r\n\t\t\t\treturn common.formatInfo(type, this.vector)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\t_getReadable(forceCreate = false) {\r\n\t\tif (!readablesMap.has(this) && forceCreate) {\r\n\t\t\tconst readable = textureForBuffer(this, this.data)\t\r\n\t\t\treadablesMap.set(this, readable)\r\n\t\t}\r\n\t\treturn readablesMap.get(this)\r\n\t}\r\n\r\n\t_getWritable(forceCreate = false) {\r\n\t\tif (!writablesMap.has(this) && forceCreate) {\r\n\t\t\tconst writable = textureForBuffer(this, this.data)\r\n\t\t\twritablesMap.set(this, writable)\r\n\t\t}\r\n\t\treturn writablesMap.get(this)\r\n\t}\r\n\r\n\t_finish() {\r\n\t\tlet readable = this._getReadable()\r\n\t\tif (readable) {\r\n\t\t\treadable.delete()\r\n\t\t\treadablesMap.delete(this)\r\n\t\t}\r\n\r\n\t\tlet writable = this._getWritable()\r\n\t\tif (writable) {\r\n\t\t\twritable.delete()\r\n\t\t\twritablesMap.delete(this)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction textureForBuffer(buffer, data = null) {\r\n\tconst { bytes, internalFormat, format, type } = buffer.formatInfo\r\n\tconst [width, height] = buffer.dimensions\r\n\treturn new Texture(internalFormat, width, height, format, type, data, bytes, ...buffer.wrap)\r\n}","import * as common from './common'\r\nimport { device, extensions } from './WebGL/Context'\r\nimport { Texture } from './WebGL/Texture'\r\n\r\nimport { readablesMap, writablesMap } from './Buffer'\r\n\r\n/**\r\n * The `DeviceBuffer` only allocates memory on the device. Memory is\r\n * allocated the moment the `DeviceBuffer` is constructed. Memory\r\n * on the device is developer managed. Indeed, the device memory is\r\n * retained until the developer destroys the `DeviceBuffer` using\r\n * the `destroy()` method.\r\n *\r\n * Memory from the host can be copied to the device and vice versa.\r\n */\r\nexport class DeviceBuffer {\r\n\tconstructor({alloc, data, type = common.FLOAT, vector = 1, wrap = common.CLAMP}) {\r\n\t\tthis.vector = Math.min(Math.max(vector, 1), 4)\r\n\t\tif (this.vector == 3) {\r\n\t\t\tconsole.warn('Vector size of 3 not supported. Choosing vector size 4.')\r\n\t\t\tthis.vector = 4\r\n\t\t}\r\n\r\n\t\tthis.size = alloc || data.length\r\n\t\tthis.dimensions = common.closestDimensions(this.size / this.vector)\r\n\r\n\t\t// Wrap mode for S and T.\r\n\t\tthis.wrap = Array.isArray(wrap) ? wrap : [wrap, wrap]\r\n\r\n\t\tconst maxDimension = device.maxTextureSize ** 2\r\n\t\tif (Math.max(...this.dimensions) > maxDimension) {\r\n\t\t\tthrow new Error('Buffer size exceeds device limit.')\r\n\t\t}\r\n\t\t\r\n\t\tlet associatedType = type\r\n\t\tif (data) {\r\n\t\t\tfor (const [constructor, type] of common.arrayTypes) {\r\n\t\t\t\tif (data instanceof constructor) {\r\n\t\t\t\t\tassociatedType = type\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.type = associatedType\r\n\r\n\t\t// Allocate on the device, immediately.\r\n\t\tlet texture = this._getReadable(true)\r\n\r\n\t\tif (data) {\r\n\t\t\tif (data.constructor == Uint8ClampedArray) {\r\n\t\t\t\tdata = new Uint8Array(data.buffer)\r\n\t\t\t}\r\n\t\t\ttexture.upload(data)\r\n\t\t}\r\n\t}\r\n\r\n\tdelete() {\r\n\t\tif (readablesMap.has(this)) {\r\n\t\t\treadablesMap.get(this).delete()\r\n\t\t\treadablesMap.delete(this)\r\n\t\t}\r\n\t}\r\n\r\n\tcopy() {\r\n\t\tlet copyReadable = this._readable.copy()\r\n\t\tlet copyBuffer = new DeviceBuffer({\r\n\t\t\talloc: this.size,\r\n\t\t\ttype: this.type,\r\n\t\t\tvector: this.vector\r\n\t\t})\r\n\r\n\t\tcopyBuffer._readable.delete()\r\n\t\tcopyBuffer._readable = copyReadable\r\n\t\treturn copyBuffer\r\n\t}\r\n\r\n\ttoDevice(data) {\r\n\t\tthis._getReadable().upload(data)\r\n\t}\r\n\r\n\ttoHost(data) {\r\n\t\tdata = this._prepareLocalData(data)\r\n\t\tthis._getReadable().read(data)\r\n\t\treturn data\r\n\t}\r\n\r\n\t/// Private methods / properties.\r\n\r\n\tget formatInfo() {\r\n\t\treturn common.formatInfo(this.type, this.vector)\r\n\t}\r\n\r\n\t_getReadable(forceCreate = false) {\r\n\t\tif (!readablesMap.has(this) && forceCreate) {\r\n\t\t\tconst { bytes, internalFormat, format, type } = this.formatInfo\r\n\t\t\tconst [width, height] = this.dimensions\r\n\t\t\treadablesMap.set(this, new Texture(internalFormat, width, height, format, type, null, bytes, ...this.wrap))\r\n\t\t}\r\n\t\treturn readablesMap.get(this)\r\n\t}\r\n\r\n\t_getWritable(forceCreate = false) {\r\n\t\tif (!writablesMap.has(this) && forceCreate) {\r\n\t\t\twritablesMap.set(this, this._getReadable(true).copy())\r\n\t\t}\r\n\t\treturn writablesMap.get(this)\r\n\t}\r\n\r\n\t_finish() {\r\n\t\t// Swap.\r\n\t\tlet writableCopy = this._getWritable()\r\n\t\tif (writableCopy) {\r\n\t\t\tlet readableCopy = this._getReadable()\r\n\t\t\tif (readableCopy) {\r\n\t\t\t\treadableCopy.delete()\r\n\t\t\t}\r\n\t\t\treadablesMap.set(this, writableCopy)\r\n\t\t\twritablesMap.delete(this)\r\n\t\t}\r\n\t}\r\n\r\n\t_prepareLocalData(data) {\r\n\t\tif (!data) {\r\n\t\t\tconst typedArray = common.arrayConstructors.get(this.type)\r\n\t\t\tdata = new typedArray(this.size)\r\n\t\t}\r\n\r\n\t\t// Cast Uint8ClampedArray to Uint8Array.\r\n\t\tlet ref = data\r\n\t\tif (data instanceof Uint8ClampedArray) {\r\n\t\t\tref = new Uint8Array(data.buffer)\r\n\t\t}\r\n\r\n\t\treturn ref\r\n\t}\r\n}\r\n\r\n/// Extension specific methods.\r\n\r\nif (extensions.getBufferSubDataAsync) {\r\n\tDeviceBuffer.prototype.toHostAsync = function (data) {\r\n\t\tdata = this._prepareLocalData(data)\r\n\t\treturn this._getReadable().readAsync(data)\r\n\t}\r\n}","export default `#version 300 es\r\n\r\nprecision highp float;\r\n\r\nout vec2 bl_UV;\r\n\r\nvoid main() {\r\n\tfloat x = -1.0 + float((gl_VertexID & 1) << 2);\r\n    float y = -1.0 + float((gl_VertexID & 2) << 1);\r\n    gl_Position = vec4(x, y, 0, 1);\r\n\tbl_UV = gl_Position.xy * 0.5 + 0.5;\r\n}`","import { gl } from  './Context'\r\nimport vertexSource from './../shaders/quad.vert'\r\n\r\n// Keep the vertex shader in memory.\r\nconst vertexShader = compileShader(gl.VERTEX_SHADER, vertexSource)\r\n\r\n/**\r\n * Internal (helper) class.\r\n */\r\nexport class Program {\r\n\tconstructor(fragSource) {\r\n\t\tlet fragShader = compileShader(gl.FRAGMENT_SHADER, fragSource)\r\n\r\n\t\tthis.id = gl.createProgram()\r\n\t\tgl.attachShader(this.id, vertexShader)\r\n\t\tgl.attachShader(this.id, fragShader)\r\n\t\tgl.deleteShader(fragShader)\r\n\r\n\t\tgl.linkProgram(this.id)\r\n\r\n\t\tif (!gl.getProgramParameter(this.id, gl.LINK_STATUS)) {\r\n\t\t\tconsole.error('Unable to link program. Info log:')\r\n\t\t\tconsole.warn(gl.getProgramInfoLog(this.id))\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// Get attributes and uniforms.\r\n\t\tthis.attributes = {}\r\n\t\tconst attribCount = gl.getProgramParameter(this.id, gl.ACTIVE_ATTRIBUTES)\r\n\t\tfor (let a = 0; a < attribCount; a++) {\r\n\t\t\tlet attribute = gl.getActiveAttrib(this.id, a)\r\n\t\t\tattribute.id = gl.getAttribLocation(this.id, attribute.name)\r\n\t\t\tthis.attributes[attribute.name] = attribute\r\n\t\t}\r\n\r\n\t\tthis.uniforms = {}\r\n\t\tconst uniformCount = gl.getProgramParameter(this.id, gl.ACTIVE_UNIFORMS)\r\n\t\tfor (let u = 0; u < uniformCount; u++) {\r\n\t\t\tlet uniform = gl.getActiveUniform(this.id, u)\r\n\t\t\tuniform.id = gl.getUniformLocation(this.id, uniform.name)\r\n\t\t\tthis.uniforms[uniform.name] = uniform\r\n\t\t}\r\n\t}\r\n\r\n\tdelete() {\r\n\t\tgl.deleteProgram(this.id)\r\n\t\tdelete this.id\r\n\t}\r\n\r\n\tsetUniform(name, ...values) {\r\n\t\tif (!this.uniforms[name]) {\r\n\t\t\t// console.warn(`${name} not a valid uniform.`)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst { id, size, type } = this.uniforms[name]\r\n\t\r\n\t\tlet fnName = uniformsFnTable[type]\r\n\t\tif (size > 1 && fnName[fnName.length - 1] != 'v') {\r\n\t\t\tfnName += 'v'\r\n\t\t}\r\n\r\n\t\tif (fnName.includes('Matrix')) {\r\n\t\t\tgl[fnName](id, false, ...values)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgl[fnName](id, ...values)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction compileShader(type, source) {\r\n\t// Check if the shader defines glsl version.\r\n\tif (!(/^#version 300 es/g).test(source)) {\r\n\t\tsource = '#version 300 es\\n\\r' + source\r\n\t}\r\n\r\n\tlet shader = gl.createShader(type)\r\n\tgl.shaderSource(shader, source)\r\n\tgl.compileShader(shader)\r\n\r\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t// TODO: Better error logging.\r\n\t\tconst typeName = type == gl.VERTEX_SHADER ? 'vertex' : 'fragment'\r\n\t\tconst infoLog = gl.getShaderInfoLog(shader)\r\n\t\tthrow new Error(`Unable to compile ${typeName} shader. Info log: \r\n\t\t\t${infoLog}`)\r\n\t}\r\n\r\n\treturn shader\r\n}\r\n\r\nconst uniformsFnTable = {\r\n\t[gl.FLOAT]:                   'uniform1f',\r\n\t[gl.FLOAT_VEC2]:              'uniform2f',\r\n\t[gl.FLOAT_VEC3]:              'uniform3f',\r\n\t[gl.FLOAT_VEC4]:              'uniform4f',\r\n\t[gl.INT]:                     'uniform1i',\r\n\t[gl.INT_VEC2]:                'uniform2i',\r\n\t[gl.INT_VEC3]:                'uniform3i',\r\n\t[gl.INT_VEC4]:                'uniform4i',\r\n\t[gl.UNSIGNED_INT]:            'uniform1ui',\r\n\t[gl.UNSIGNED_INT_VEC2]:       'uniform2ui',\r\n\t[gl.UNSIGNED_INT_VEC3]:       'uniform3ui',\r\n\t[gl.UNSIGNED_INT_VEC4]:       'uniform4ui',\r\n\t[gl.BOOL]:                    'uniform1i',\r\n\t[gl.BOOL_VEC2]:               'uniform2i',\r\n\t[gl.BOOL_VEC3]:               'uniform3i',\r\n\t[gl.BOOL_VEC4]:               'uniform4i',\r\n\t[gl.FLOAT_MAT2]:              'uniformMatrix2fv',\r\n\t[gl.FLOAT_MAT2x3]:            'uniformMatrix2x3fv',\r\n\t[gl.FLOAT_MAT2x4]:            'uniformMatrix2x4fv',\r\n\t[gl.FLOAT_MAT3]:              'uniformMatrix3fv',\r\n\t[gl.FLOAT_MAT3x2]:            'uniformMatrix3x2fv',\r\n\t[gl.FLOAT_MAT3x4]:            'uniformMatrix3x4fv',\r\n\t[gl.FLOAT_MAT4]:              'uniformMatrix4fv',\r\n\t[gl.FLOAT_MAT4x2]:            'uniformMatrix4x2fv',\r\n\t[gl.FLOAT_MAT4x3]:            'uniformMatrix4x3fv',\r\n\t[gl.SAMPLER_2D]:              'uniform1i',\r\n\t[gl.INT_SAMPLER_2D]:          'uniform1i',\r\n\t[gl.UNSIGNED_INT_SAMPLER_2D]: 'uniform1i',\t\r\n}","export default `#version 300 es\r\n\r\nprecision highp float;\r\nprecision highp int;\r\n\r\nuniform highp ivec2 bl_Size;\r\n\r\nin vec2 bl_UV;\r\n\r\nhighp uint bl_Id() {\r\n\thighp ivec2 uv = ivec2(bl_UV * vec2(bl_Size));\r\n\treturn uint(uv.x + uv.y * bl_Size.x);\r\n}`","import { device, gl } from './WebGL/Context'\r\nimport { Program } from './WebGL/Program'\r\nimport { Buffer } from './Buffer'\r\nimport fragTemplate from './shaders/template.frag'\r\n\r\n/**\r\n * Inputs and outputs have to be defined beforehand. \r\n * Although this means the pipeline is *fixed*, it does allow you\r\n * to swap Buffers before executing the `Kernel`.\r\n *\r\n * Depending on the number of allowed color attachments, a `Kernel`\r\n * may have to split the number of executions in numerous steps.\r\n */\r\nexport class Kernel {\r\n\tconstructor(io, source) {\r\n\t\tthis.inputs = io.in || io.input || io.inputs || {}\r\n\t\tthis.outputs = io.out || io.output || io.outputs\r\n\r\n\t\tif (!this.outputs || !Object.values(this.outputs).length) {\r\n\t\t\tthrow new Error(`At least 1 output is required.`)\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\t// Check for conflicts.\r\n\t\tfor (const output of Object.keys(this.outputs)) {\r\n\t\t\tfor (const input of Object.keys(this.inputs)) {\r\n\t\t\t\tif (input === output) {\r\n\t\t\t\t\tthrow new Error(`Conflicting input/output variable name: ${input}.`)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\t// Compare maximum input variabes allowed by the device.\r\n\t\tlet inputCount = Object.values(this.inputs).length\r\n\t\tif (inputCount > device.maxTextureUnits) {\r\n\t\t\tthrow new Error(`Maximum number of inputs exceeded. Allowed: ${device.maxTextureUnits}, given: ${inputCount}.`)\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\t// Split the task in multiple programs based on the maximum number of outputs.\r\n\t\tconst maxOutputs = device.maxColorAttachments\r\n\t\tconst outputNames = Object.keys(this.outputs)\r\n\t\tconst outputGroupCount = Math.ceil(outputNames.length / maxOutputs)\r\n\t\tlet outputDescriptors = []\r\n\t\t\r\n\t\tlet groupStartIndex = 0\r\n\t\tfor (let a = 0; a < outputGroupCount; a++) {\r\n\t\t\tlet descriptors = {}\r\n\t\t\tfor (const [i, name] of outputNames.entries()) {\r\n\t\t\t\tconst { outputType, precision } = this.outputs[name].formatInfo\r\n\t\t\t\tdescriptors[name] = { outputType, precision }\r\n\r\n\t\t\t\tif (i >= groupStartIndex && i < groupStartIndex + maxOutputs) {\r\n\t\t\t\t\tdescriptors[name].location = i - groupStartIndex\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toutputDescriptors.push(descriptors)\r\n\t\t\tgroupStartIndex += maxOutputs\r\n\t\t}\r\n\r\n\t\t// Create the set of programs.\r\n\t\tthis.steps = new Set(outputDescriptors.map((descriptors) => {\r\n\t\t\tconst shaderSource = prepareFragmentShader(this.inputs, descriptors, source)\r\n\t\t\tlet program = new Program(shaderSource)\r\n\r\n\t\t\tlet out = []\r\n\t\t\tfor (const [name, descriptor] of Object.entries(descriptors)) {\r\n\t\t\t\tif (descriptor.location !== undefined) {\r\n\t\t\t\t\tout.push(name)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn { out, program }\r\n\t\t}))\r\n\t}\r\n\r\n\tdelete() {\r\n\t\tthis.steps.forEach(step => step.program.delete())\r\n\t\tthis.steps.clear()\r\n\r\n\t\tdelete this.inputs\r\n\t\tdelete this.outputs\r\n\t\tdelete this.steps\r\n\t}\r\n\r\n\texec(uniforms = {}) {\r\n\t\t// Check dimensions.\r\n\t\tlet size = []\r\n\t\tfor (const output of Object.values(this.outputs)) {\r\n\t\t\tconst dimensions = [...output.dimensions]\r\n\t\t\tif (!size.length) {\r\n\t\t\t\tsize = dimensions\r\n\t\t\t}\r\n\t\t\telse if (size[0] != dimensions[0] || size[1] != dimensions[1]) {\r\n\t\t\t\tthrow new Error('Outputs require consistent sizes.')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//\r\n\t\t// Prepare Framebuffer.\r\n\t\tlet fbo = gl.createFramebuffer()\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\r\n\r\n\t\t//\r\n\t\t// Run every step.\r\n\t\tfor (const step of this.steps) {\r\n\t\t\t// Output textures.\r\n\t\t\tfor (const [index, name] of step.out.entries()) {\r\n\t\t\t\tconst texture = this.outputs[name]._getWritable(true)\r\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + index, gl.TEXTURE_2D, texture.id, 0)\r\n\t\t\t}\r\n\r\n\t\t\tconst { program } = step\r\n\t\t\tgl.useProgram(program.id)\r\n\r\n\t\t\tgl.viewport(0, 0, size[0], size[1])\r\n\r\n\t\t\t// Built-in uniforms.\r\n\t\t\tprogram.setUniform('bl_Size', ...size)\r\n\r\n\t\t\t// User uniforms.\r\n\t\t\tfor (const [uniform, value] of Object.entries(uniforms)) {\r\n\t\t\t\tprogram.setUniform(uniform, value)\r\n\t\t\t}\r\n\r\n\t\t\t// Input textures.\r\n\t\t\tfor (const [index, name] of Object.keys(this.inputs).entries()) {\r\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + index)\r\n\t\t\t\tconst texture = this.inputs[name]._getReadable(true)\r\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture.id)\r\n\t\t\t\tprogram.setUniform(name, index)\r\n\t\t\t}\r\n\r\n\t\t\tgl.drawBuffers(step.out.map((_, i) => gl.COLOR_ATTACHMENT0 + i))\r\n\t\t\tgl.drawArrays(gl.TRIANGLES, 0, 3)\r\n\r\n\t\t\t// Unpacking time. But only for `Buffer`s.\r\n\t\t\tfor (const [index, name] of step.out.entries()) {\r\n\t\t\t\tconst buffer = this.outputs[name]\r\n\t\t\t\tif (buffer instanceof Buffer) {\r\n\t\t\t\t\tconst { bytes, format, type } = buffer.formatInfo\r\n\t\t\t\t\tgl.readBuffer(gl.COLOR_ATTACHMENT0 + index)\r\n\t\t\t\t\tgl.readPixels(0, 0, size[0], size[1], gl[format], gl[type], buffer.data, 0)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, null)\r\n\t\t}\r\n\r\n\t\t// Clean-up all resources.\r\n\t\tconst allBuffers = new Set([...Object.values(this.inputs), ...Object.values(this.outputs)])\r\n\t\tfor (const buffer of allBuffers) {\r\n\t\t\tbuffer._finish()\r\n\t\t}\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null)\r\n\t\tgl.deleteFramebuffer(fbo)\r\n\t}\r\n}\r\n\r\n\r\nfunction prepareFragmentShader(inputs, outputDescriptors, source) {\r\n\tlet uniforms = Object.entries(inputs).map(([name, buffer]) => {\r\n\t\tconst { inputType, precision } = buffer.formatInfo\r\n\t\treturn `uniform ${precision} ${inputType} ${name};`\r\n\t})\r\n\r\n\tlet outs = Object.entries(outputDescriptors).map(([name, props]) => {\r\n\t\tconst layout = props.location !== undefined ? `layout(location = ${props.location}) out ` : ''\r\n\t\treturn `${layout}${props.precision} ${props.outputType} ${name};`\r\n\t})\r\n\r\n\treturn `${fragTemplate}\r\n\r\n\t\t${uniforms.join('\\n\\r')}\r\n\r\n\t\t${outs.join('\\n\\r')}\r\n\r\n\t\t${source}`\r\n}","export { device, gl as context } from './WebGL/Context'\r\nexport { Buffer } from './Buffer'\r\nexport { DeviceBuffer } from './DeviceBuffer'\r\nexport { Kernel } from './Kernel'\r\n\r\nexport { \r\n\tFLOAT,\r\n\tINT32, INT16, INT8,\r\n\tUINT32, UINT16, UINT8,\r\n\tCLAMP, MIRROR, REPEAT,\r\n} from './common'\r\n\r\nexport const VERSION = {\r\n\tmajor: $_MAJOR,\r\n\tminor: $_MINOR,\r\n\tpatch: $_PATCH,\r\n\ttoString() {\r\n\t\treturn `${this.major}.${this.minor}.${this.patch}`\r\n\t}\r\n}"],"names":["common.FLOAT","common.CLAMP","common.closestDimensions","common.arrayConstructors","common.arrayTypes","common.formatInfo"],"mappings":"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"}